---
title: Self-Hosted Setup Guide
summary: Guide for setting up and using AnotherAI on your own infrastructure
---

import { Accordion, Accordions } from 'fumadocs-ui/components/accordion';
import { Step, Steps } from 'fumadocs-ui/components/steps';
import { Code2, BookOpen, Wand2, Eye, Network, FileCode, Shield } from 'lucide-react';

### Self Host Set Up

To self-host your own instance of AnotherAI, ask Claude Code to do the setup for you by sending the following prompt:

```
claude "Please follow instructions in https://raw.githubusercontent.com/anotherai-dev/anotherai/refs/heads/main/examples/quickstart/INSTRUCTIONS.md"
```

### MCP Configuration

AnotherAI is available as an MCP server in the IDEs below.

<Tabs items={['Cursor', 'Claude Code', 'Windsurf', 'Cursor CLI']}>

<Tab value="Cursor">

Quick setup (recommended):
1. Complete the [Self Host Set Up](#self-host-set-up) steps above.
2. Tap on this button below

<a href="cursor://anysphere.cursor-deeplink/mcp/install?name=anotherai&config=eyJ1cmwiOiJodHRwOi8vMTI3LjAuMC4xOjgwMDAvbWNwLyJ9"><img src="https://cursor.com/deeplink/mcp-install-dark.svg" alt="Add anotherai MCP server to Cursor" height="32" /></a>

Manual installation:

1. Open Cursor
2. Go to `Settings...`
3. Navigate to `Cursor Settings`
4. Select `Tools and Integrations`
5. Select `+ New MCP Server`

Add the following configuration to your MCP servers config:

```json
{
  "mcpServers": {
    "anotherai": {
      "url": "http://127.0.0.1:8000/mcp/"
    }
  }
}
```

Cursor UI should now look like this (note the green indicator and the number of tools enabled displayed):

![Successful Cursor MCP Server Setup](/images/mcp/cursor-setup-ok.png)

</Tab>

<Tab value="Claude Code">

  1. Open Claude Code in your preferred terminal (standalone or within your IDE).
  2. Type the following to install:

  ```bash
  claude mcp add --scope user --transport http anotherai http://127.0.0.1:8000/mcp/
  ```

  <Callout type="info">
  **Installation Scopes**: The `--scope user` flag installs AnotherAI for your personal use across all projects. For team projects, you can use `--scope project` instead to create a shared `.mcp.json` file that can be committed to version control and shared with your team members. Learn more about MCP scopes in the [Anthropic documentation](https://docs.anthropic.com/en/docs/claude-code/mcp#user-scope).
  </Callout>

  3. Type the following to verify the server is properly connected:

  ```bash
claude
```

Then type:
```bash
/mcp 
```

You should see the AnotherAI server listed as "connected".

</Tab>

<Tab value="Windsurf">

1. Open Windsurf
2. Go to `Settings...`
3. Select `Windsurf Settings`
4. Navigate to `Cascade`
5. Select `Manage MCPs`
6. Select `View Raw Config`

Add the following configuration to your MCP servers config:

```json
{
  "mcpServers": {
    "anotherai": {
      "url": "http://127.0.0.1:8000/mcp/"
    }
  }
}
```

Navigate back to Manage MCPs and refresh the page. The AnotherAI MCP should appear and show as enabled.
</Tab>

<Tab value="Cursor CLI">

Cursor CLI can access MCPs configured in your IDE's  `mcp.json` configuration file, enabling the same MCP servers and tools that you've configured for the IDE.

Setup steps:

1. Complete the [Self Host Set Up](#self-host-set-up) steps above and ensure the AnotherAI MCP server is running
2. Configure the AnotherAI MCP in your IDE's `mcp.json` file, as described in the `Cursor` tab
3. Once the MCP is enabled and active, you can ask the Cursor CLI to interact with it

<Callout type="info">
**Additional Configuration**: If you find that the CLI claims it can't find or use the AnotherAI MCP, you may need to give it the specific file path to use to look for the mcp.json file.
</Callout>

</Tab>

</Tabs>

### Try it out

After you have the above set up completed, AnotherAI is ready to use!

- If you have agents already created, check out how to [migrate them to AnotherAI](/agents/migrating).

- If you don't have any agents built yet, check out [building a new agent](/agents/building) to learn about building a new AnotherAI-compatible agent.

Once you have an agent built or migrated, here are some examples of prompts you can send to Claude Code to test how AnotherAI works:

```bash
Create an experiment in AnotherAI that compares how GPT-5 mini and GPT-4 mini perform on @[your-agent-name-here].
```
```bash
Use AnotherAI to help me find a faster model for @[your-agent-name-here] while still maintaining accuracy.
```

### Configuring Authentication

The default configuration disables authentication all together using `NO_AUTHORIZATION_ALLOWED=true` in the `.env` file.

If that variable is not present, the backend expects means to validate a JWT token in environment variables, either:
- `JWKS_URL`: the URL to a valid JSON Web Key Set
- `JWK`: a stringified JSON of a valid JSON Web Key

> You can check [signature_verifier](/backend//core/utils/signature_verifier.py) for the implementation of the signature verification and the [lifecycle.py](/backend/protocol/_common/lifecycle.py) for how the verifier is selected.

The Web Client currently only supports Clerk based authentication, which is also disabled by default. It can be activated by providing the `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY` and `CLERK_SECRET_KEY` environment variables (note that the `NEXT_PUBLIC_...` key must be available at build time).

### Configuring the Clickhouse User

The ClickHouse database is exposed to the end user via a dedicated readonly clickhouse user that can only access the tenant's data.

The main ClickHouse user is then only used to:
- insert data into the database
- migrate the database (only if `MIGRATE_STORAGE_ON_STARTUP=1`)
- create a readonly user for each tenant

The default clickhouse user works fine. Below is an example setup on how to create a dedicated user with minimal permissions:

```sql
-- Create the database
CREATE DATABASE anotherai;
-- Create the user
CREATE USER anotherai IDENTIFIED WITH sha256_password BY '...';
-- Grant readwrite access to the database
GRANT SELECT, INSERT, ALTER UPDATE, ALTER DELETE ON anotherai.* TO anotherai;
-- Grant `GRANT` permission for SELECT so it can propagate SELECT privileges to the readonly user
GRANT SELECT ON anotherai.* TO anotherai WITH GRANT OPTION;
-- Allow the user to create the readonly user
GRANT CREATE USER ON *.* TO anotherai;
-- Allow the user to create and update row policies
GRANT CREATE ROW POLICY ON anotherai.* TO anotherai;
GRANT ALTER  ROW POLICY ON anotherai.* TO anotherai;   -- if they must edit
GRANT DROP   ROW POLICY ON anotherai.* TO anotherai;   -- if they must delete
```

### Configuring the PostgreSQL User

The PSQL tenant isolation works by setting policies on each table. [Migrate tests](/backend/core/storage/psql/migrations/migrate_test.py) are used to ensure that the policies are correctly set on each table. Usually, the default PSQL user has admin permissions that allows bypassing the policies. It is then recommended to create a dedicated user with minimal permissions to access the database.

Below is an example setup on how to create a dedicated user with minimal permissions:

```sql
-- Create the user
CREATE USER anotherai IDENTIFIED WITH sha256_password BY '...';
-- Grant readwrite access to the database
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO anotherai;
-- Set default policies for new tables
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL PRIVILEGES ON TABLES TO anotherai;
```

## Join the community

If you have questions about AnotherAI, reach out to our team and community on our community [Slack](https://join.slack.com/t/anotherai-dev/shared_invite/zt-3av2prezr-Lz10~8o~rSRQE72m_PyIJA).
