---
title: Workflows  
summary: Create and monitor multi-agent workflows with AnotherAI.
---

import { Steps, Step } from 'fumadocs-ui/components/steps';
import { Tabs, Tab } from 'fumadocs-ui/components/tabs';

## What are Workflows?

A **workflow** is a sequence of two or more AI agents working together to accomplish a complex task. Workflow structures can vary, but here are a couple simple examples of what a workflow may look like:

- Two or more agents work sequentially, where the output of one agent becomes the input for the next agent. For example: one agent extracts data from a document, a second agent summarizes it, and a third agent translates it into another language.
- Two or more agents work in parallel and their results are combined at the end. For example: two agents are given the same meeting transcript. One agent is responsible for generating a summary of the meeting and the other is responsible for extracting todo items from the transcript.

## Setting up Workflows

AnotherAI does not automatically chain agents together for you. But you can use agent metadata to add the key value pairs you'd like to create connections between agents.

You need to select the key that you want to use to connect the agents and then make sure your code supports setting the correct values for that key for each user.

Here's the process of setting metadata for workflow tracking:

<Tabs items={['Python', 'TypeScript', 'curl']}>
<Tab value="Python">
```python
# 1. Determine workflow identifier (user_id, session_id, etc.)
workflow_key = get_user_session_id()

# 2. Add the metadata when making agent calls
response = client.chat.completions.create(
    model="gpt-4o-mini",
    messages=[{"role": "system", "content": "Summarize this meeting transcript"}],
    metadata={
        "user_id": workflow_key,  # Key that connects agents
        "agent_id": "meeting-summarizer"
    }
)
```
</Tab>
<Tab value="TypeScript">
```typescript
// 1. Determine workflow identifier (user_id, session_id, etc.)
const workflowKey = getUserSessionId();

// 2. Add the metadata when making agent calls
const response = await client.chat.completions.create({
  model: 'gpt-4o-mini',
  messages: [{role: 'system', content: 'Summarize this meeting transcript'}],
  metadata: {
    user_id: workflowKey,  // Key that connects agents
    agent_id: 'meeting-summarizer'
  }
});
```
</Tab>
<Tab value="curl">
```bash
# Get user ID from your application context
USER_ID=$(get_current_user_id)  # Your application logic

# Agent call with workflow metadata
curl -X POST http://localhost:8000/v1/chat/completions \
  -H "Authorization: Bearer aai-***" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gpt-4o-mini",
    "messages": [{"role": "system", "content": "Summarize this meeting transcript"}],
    "metadata": {
      "agent_id": "meeting-summarizer",
      "user_id": "'$USER_ID'",
    }
  }'
```
</Tab>
</Tabs>

Then set the same `user_id` value across all agents in your workflow:

```python
# Example workflow script showing consistent user_id setting
user_id = get_current_user_id()  # Get from your app context

# Agent 1: Document processor
response1 = client.chat.completions.create(
    model="gpt-4o-mini", 
    messages=[{"role": "system", "content": "Summarize this meeting transcript"}],
    metadata={"user_id": user_id, "agent_id": "meeting-summarizer"}
)

# Agent 2: Content analyzer (same user_id)
response2 = client.chat.completions.create(
    model="gpt-4o-mini",
    messages=[{"role": "system", "content": "Extact todos from this meeting transcript"}], 
    metadata={"user_id": user_id, "agent_id": "meeting-todo-extractor"}
)
```

## Monitoring Workflows

Once you have your agents running with shared metadata, you can ask Claude Code (or your preferred coding agent) to create custom views to monitor and analyze the workflows.
Here are some examples of views that could be useful:

### General workflow monitoring

See all completions across all agents in the workflow, organized by the metadata values

```
Create a view showing all completions that have a user_id in their metadata, 
grouped by user ID so I can see all completions for each user together.
```

### User-based workflow tracking

Monitor all workflows for a specific user:

```
Create a view showing all workflow completions for user_id "user_12345" 
grouped by workflow_id with total cost and duration per workflow
```
### Workflow performance analytics

Create comprehensive workflow analytics:

```
Create a view showing daily workflow performance metrics including average cost, 
duration, and success rate by workflow step
```
